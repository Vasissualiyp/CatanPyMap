# CatanPyMap
This is a python code that creates a map for Catan, playable on a TV. This repo is a python rewrite of https://github.com/dado3212/catan

CatanPyMap is a Python-based project that generates maps for the board game Settlers of Catan for 3-4 players. It's designed to project the generated map on a TV for a more immersive gaming experience.

### Structure of the Project

The project is structured into several Python files, each serving a different purpose:

1. `index.py`: Contains the main classes and functions to set up the game and draw the game board.
2. `main.py`: The entry point of the application. It uses the `index.py` and `helper.py` to set up the game, draw it, and then encode the game state.
3. `helper.py`: Contains several helper functions that are used across the application.
4. `number_asset_generator.py`: Generates image assets for the numbers used in the game.

## How to Run

To run the application, you should execute the `run_game.py` script:

```
python3 run_game.py
```

This script does the following:

1. Lists all available monitors and prompts the user to select one for displaying the game.
2. Generates a Catan game map based on the selected monitor's resolution.
3. Opens the generated map image and prepares it for display.
4. Creates a new Tkinter window, sets it to fullscreen on the selected monitor, and displays the map image on it.
5. Starts a new thread to listen for user input from the console.
6. Periodically checks the input queue for commands. If it receives a "quit" or "exit" command, it closes the Tkinter window and ends the program. If it receives a "reload" command, it restarts the Tkinter window and regenerates the game map.

Before running the game, ensure that the necessary Python libraries are installed by running:

```
pip install -r requirements.txt
```

After running the `run_game.py` script, you should see a list of your available monitors. Enter the number of the monitor you want to use for displaying the game. The game map will then be generated and displayed on that monitor.

You can enter commands in the console to control the game. Enter "quit" or "exit" to close the game, or "reload" to regenerate the game map.
### Configuration

The `Params` class in `index.py` contains several parameters that you can adjust to fit your setup. Here is a brief description of each parameter:

- `board_size`: The size of the game board. 
- `tile_size`: The size of the tiles on the game board. 
- `tile_spacing`: The spacing between tiles on the game board. 
- `asset_location`: The location of various game assets. 
- `start_x` and `start_y`: The starting points for the rows of tiles on the board.

Adjust these parameters as needed to make the game fit your TV screen.

### Game Modes

There are three game modes available, each offering a different way to set up the game:

- `new_random_game()`: Sets up a game with a completely random board.
- `new_pseudo_random_game()`: Sets up a game with a pseudo-random board.
- `new_spiral_game()`: Sets up a game with a spiral board.

Choose the one that fits your preference.

### Game State Encoding

The game state is encoded into a base64 string using the `encode` function from `helper.py`. This encoding is used to persist the game state and can be decoded using the `decode` function from the same file.

### Number Assets

The numbers used in the game are represented by image assets generated by the `number_asset_generator.py` script. If you want to change the appearance of these numbers, you can adjust the `create_image` function in this script.

### Contributing

Feel free to submit pull requests or open issues if you find any bugs or have any suggestions to improve the project.

### License

This project is licensed under the MIT License. See the LICENSE file for more details.
